<%= stylesheet_link_tag "application" %>


<div class="container">
  <h3 class="m-3"><%= @user.name%>さんのページ</h3>
  <div class="row shadow-lg my-3 p-3 rounded justify-content-center" style="background-color:white">
    <table class="table text-center table-borderless">
      <tr><td><%= image_tag @user.get_profile_image(100,100) %></td></tr>
      <tr><td><%= @user.name %></td></tr>
      <tr><td>フォロー中：<%= link_to @user.followings.count, user_followings_path(@user) %></td></tr>
      <tr><td>フォロワー：<%= link_to @user.followers.count, user_followers_path(@user) %></td></tr>
      <tr>
        <td>
          <%= render "public/relationships/btn", user: @user, options: { class: ""} %>
        </td>
      </tr>
      <tr>
        <td>
          <% if @user == current_user && !@user.guest_user? %>
          <%= link_to "登録情報の編集はこちら", edit_user_path(@user.id), class:"btn btn-outline-info" %>
          <% end %>
        </td>
       </tr>
    </table>
  </div>

  <div class="row shadow-lg my-3 p-3 rounded justify-content-center" style="background-color:white">
    <h3 class="m-3">投稿一覧&nbsp;（<%= @posts.count %>件）</h3>
    <table class="table  table text-center table-hover mb-0">
      <tr>
        <th class="col-3">タイトル</th>
        <th class="col-2">カテゴリー</th>
        <th class="col-2">投稿日</th>
        <th class="col-2">コメント/いいね</th>
      </tr>
    <% @posts.each do |post| %>
      <tr>
        <td><%= link_to post.title, post_path(post.id) %></td>
        <td><%= link_to post.genre.name,genre_search_path(genre_id: post.genre_id), method: :get %></td>
        <td><%= l post.created_at, format: :short %></td>
        <td>
          <i class="fa-solid fa-comment"></i><%= post.post_comments.count %>/
          <i class="fa-solid fa-thumbs-up"></i><%= post.favorites.count %>
        </td>
      </tr>
      <% end %>
    </table>
    <div class="row col-12 justify-content-center">
      <%= paginate @posts %>
    </div>
  </div>

